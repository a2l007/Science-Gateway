create database zenith;
use zenith;	
create table TZ_USER_DATA (UserId int NOT NULL , UserName varchar(255) NOT NULL, Email varchar(255), PRIMARY KEY(UserId));
create table TZ_USER_JOB_INFO (JobId int NOT NULL,JobNumber int NOT NULL, UserId int NOT NULL , JobName varchar(255) NOT NULL, TargetNode varchar(255), PRIMARY KEY(JobId), FOREIGN KEY(UserId) REFERENCES TZ_USER_DATA(UserId));
create table TZ_JOB_DATA (JobDataId int NOT NULL, JobId int NOT NULL, JobName varchar(255), Nodes int, JobPath varchar(255), Ppn int, WallTime varchar(255), JobType varchar(255), JobFileName varchar(255), CompileFlag varchar(3), JobStatus varchar(10),PRIMARY KEY(JobDataId), FOREIGN KEY(JobId) REFERENCES TZ_USER_JOB_INFO(JobId));
alter table TZ_JOB_DATA add column CreationTime TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
alter table TZ_JOB_DATA drop column JobStatus;
ALTER TABLE TZ_JOB_DATA MODIFY JobDataId int NOT NULL AUTO_INCREMENT;
